<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask App</title>
</head>
<style>
    *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;

}

body,html{
    width: 100%;
    height: 100vh;
    background-color: #232323;
}
main{
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

h1{
    color: transparent;
    font-size: 2rem;
    margin-bottom: -10px;
    text-align: center;
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(45deg, #e8e048, #ffffff);
    background-clip: text;
}

form{
    width: 100%;
    height: fit-content;
    padding: 10px;
    max-width: 700px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-top: 50px;
    background-color: #363535;
    box-shadow: 0 0 40px rgba(77, 75, 75, 0.95);
    border-radius: 2cap;
    border: none;
}
form > input{
    width: 90%;
    padding: 7px;
    margin-right: 9%;
    background-color: #363535;
    color: white;
    outline: none;
    border: none;
    font-size: 1rem;
    
}

form > button{
    width: 28px;
    height: 28px;
    padding: 7px;
    size: 24px;
    margin-left: 95%;
    background-color: yellow;
    border-radius: 100%;
    transition: none;
    outline: none;
    border:none;
    animation: shadow 2s linear infinite;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
}


header{
    width: 100%;
    height: 64px;
    display: flex;
    align-items: center;
    background-color: transparent;
    position: sticky;
    top: 0;
    background-color: #232323;
    
}
header > a{
    color: white;
    text-decoration: none;
    font-size: 1.5rem;
    margin-left: 10px;
    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
}

@keyframes shadow{
    0%{
        box-shadow: 0 0 55px rgba(255, 255, 0, 1);
    }
    25%{
        box-shadow: 0 0 25px rgba(255, 255, 0, 1);
    }
    50%{
        box-shadow: 0 0 55px rgba(255, 255, 0, 1);
    }
    75%{
        box-shadow: 0 0 25px rgba(255, 255, 0, 1);
    }
    100%{
        box-shadow: 0 0 55px rgba(255, 255, 0, 1);
    }
}

#info {
    width: 90%;
    max-width: 800px;
    margin: 20px auto;
    padding: 20px;
    background-color: #363535;
    color: white;
    border-radius: 8px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    text-align: center;
}

#info h2 {
    font-size: 1.8rem;
    margin-bottom: 10px;
}

#info p {
    font-size: 1rem;
    line-height: 1.5;
}

h2 {
    color: white;
    font-size: 1.5rem;
    margin-top: 20px;
    text-align: center;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}



</style>
<body>
    <header>
        <svg aria-hidden="true" data-prefix="fas" data-icon="comments-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-comments-alt fa-w-18 fa-7x" style="width: 28px; height: 28px; margin-left: 2%; background-color: transparent;">
            <path fill="white" d="M416 224V64c0-35.3-28.7-64-64-64H64C28.7 0 0 28.7 0 64v160c0 35.3 28.7 64 64 64v54.2c0 8 9.1 12.6 15.5 7.8l82.8-62.1H352c35.3.1 64-28.6 64-63.9zm96-64h-64v64c0 52.9-43.1 96-96 96H192v64c0 35.3 28.7 64 64 64h125.7l82.8 62.1c6.4 4.8 15.5.2 15.5-7.8V448h32c35.3 0 64-28.7 64-64V224c0-35.3-28.7-64-64-64z"></path>
        </svg>
        <a href="/">AI Symptoms Checker</a>
    </header>
    <main>
        <h1>How can I Help You ?</h1>
        <form id="symptomForm">
            <input type="text" id="symptoms" placeholder="Enter your Symptoms" name="symptoms" required>
            <button type="button" onclick="submitSymptoms()">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="width: 24px; height: 24px;">
                    <path d="M184 0c30.9 0 56 25.1 56 56V456c0 30.9-25.1 56-56 56c-28.9 0-52.7-21.9-55.7-50.1c-5.2 1.4-10.7 2.1-16.3 2.1c-35.3 0-64-28.7-64-64c0-7.4 1.3-14.6 3.6-21.2C21.4 367.4 0 338.2 0 304c0-31.9 18.7-59.5 45.8-72.3C37.1 220.8 32 207 32 192c0-30.7 21.6-56.3 50.4-62.6C80.8 123.9 80 118 80 112c0-29.9 20.6-55.1 48.3-62.1C131.3 21.9 155.1 0 184 0zM328 0c28.9 0 52.6 21.9 55.7 49.9c27.8 7 48.3 32.1 48.3 62.1c0 6-.8 11.9-2.4 17.4c28.8 6.2 50.4 31.9 50.4 62.6c0 15-5.1 28.8-13.8 39.7C493.3 244.5 512 272.1 512 304c0 34.2-21.4 63.4-51.6 74.8c2.3 6.6 3.6 13.8 3.6 21.2c0 35.3-28.7 64-64 64c-5.6 0-11.1-.7-16.3-2.1c-3 28.2-26.8 50.1-55.7 50.1c-30.9 0-56-25.1-56-56V56c0-30.9 25.1-56 56-56z"></path>
                </svg>
            </button>
        </form>
        <div id="results"></div>
        
    </main>
    <script>
        async function submitSymptoms() {
            const symptoms = document.getElementById('symptoms').value.trim();
            const responseDiv = document.getElementById('results');
            responseDiv.innerText = ''; // Clear previous results

            if (!symptoms) {
                responseDiv.innerText = 'Error: Please enter your symptoms to proceed.';
                return;
            }

            try {
                const response = await fetch('/symptom_check', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ symptoms })
                });

                const result = await response.json();
                if (result.error) {
                    responseDiv.innerText = `Error: ${result.error}`;
                } else {
                    responseDiv.innerText = `Possible diagnosis: ${result.result}`;
                }
            } catch (error) {
                responseDiv.innerText = `Error: Unable to connect to the server.`;
            }
        }
    </script>
</body>
</html>